# 变量筛选配置

# 排除的列（不参与特征选择）
exclude_columns:
  - "ID"
  - "BMI_to_FI"
  - "heartProblem"
  - "stroke"
  - "hypertension"
  - "chronicLungDisease"
  - "asthma"
  - "stomachOrDigestiveDisease"
  - "arthritisOrRheumatism"
  - "fractureHip"
  - "psychiatricDisease"
  - "diabetes"
  - "cancer"
  - "kidneyDisease"
  - "height"
  - "weight"
  - "bmi"

# 预处理设置
preprocessing:
  # 是否标准化数值特征
  standardize: true
  # 是否删除常数列
  remove_constant: true
  # 是否删除高度相关特征
  remove_correlated: true
  # 相关性阈值
  correlation_threshold: 0.95
  # 是否删除低方差特征
  remove_low_variance: true
  # 方差阈值
  variance_threshold: 0.01

# 分类变量及映射配置
categorical_mappings:
  EducationLevel:
    mapping:
      1: "primary_school"
      2: "middle_high_school"
      3: "college_above"
    reference: "primary_school"
  selfCommentOfHealth:
    mapping:
      1: "excellent"
      2: "very_good"
      3: "good"
      4: "fair"
      5: "poor"
    reference: "excellent"
  feelDepressed:
    mapping:
      1: "none"
      2: "sometimes"
      4: "always"
    reference: "none"

# 特征选择方法
feature_selection:
  # 是否使用Lasso特征选择
  use_lasso: true
  lasso:
    cv_folds: 5
    max_iter: 10000
    random_state: 42
  
  # 是否使用递归特征消除
  use_rfe: true
  rfe:
    estimator: "RandomForestClassifier"
    step: 1
    cv_folds: 5
    scoring: "roc_auc"
  
  # 是否使用随机森林特征重要性
  use_random_forest: true
  random_forest:
    n_estimators: 100
    random_state: 42
    importance_threshold: "mean"
  
  # 是否使用基于p值的特征选择
  use_p_value: true
  p_value:
    method: "f_classif"
    threshold: 0.05

# 特征组合定义
feature_groups:
  base:
    - "FI"
    - "Age"
    - "Gender"
    - "hypertension"
    - "diabetes"
    - "bmi"
    - "Smoke"
    - "DrinkAlcohol"
  
  lifestyle:
    - "health_very_good"
    - "health_good"
    - "health_fair"
    - "health_poor"
    - "weightChange"
    - "sleepWasRestless"
    - "depress_sometimes"
    - "depress_always"
    - "feelAnyBodyPain"
  
  disease:
    - "asthma"
    - "cancer"
    - "kidneyDisease"
    - "psychiatricDisease"
  
  lab:
    - "pulse"
    - "whiteBloodCell_inThousands"
    - "bloodUreaNitrogen_mgperdl"
    - "glucose_mgperdl"
    - "ldlCholesterol_mgperdl"
    - "cReactiveProtein_mgperdl"
    - "uricAcid_mgperdl"
    - "hemoglobin_gperdl"
    - "cystatinC_mgperl"